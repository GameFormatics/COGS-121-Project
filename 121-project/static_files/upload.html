<!DOCTYPE html>
<html>
<head>
    <title>Choose/Upload</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(() => {
            $('#getTextButton').click(() => {
                $.ajax({
                  url: 'text',
                  type: 'GET',
                  dataType : 'json',
                  success: (data) => {
                    console.log('You received some data!', data);
                    $('#results').html('All words: ' + data);
                  },
                });
              });

            $('#typeTextButton').click(() => {
                $.ajax({
                  // all URLs are relative to http://localhost:3000/
                  url: 'text',
                  type: 'POST', // <-- this is POST, not GET
                  data: {
                          words: $('#typeTextBox').val(),
                        },
                  error: function(){
                    console.log('Failed to submit text.');
                  },
                  success: (data) => {
                    console.log('Successfully submitted text!');
                  }
                });
              });

            /*Old code to get specific item - not working, will use later
            $('#getTextButton').click(() => {
                const requestURL = 'text/' + $('#typeTextBox').val();
                //const requestURL = 'text/';
                console.log('making ajax request to:', requestURL);
                // From: http://learn.jquery.com/ajax/jquery-ajax-methods/
                // Using the core $.ajax() method since it's the most flexible.
                // ($.get() and $.getJSON() are nicer convenience functions)
                $.ajax({
                  // all URLs are relative to http://localhost:3000/
                  url: requestURL,
                  type: 'GET',
                  dataType : 'json', // this URL returns data in JSON format
                  success: (data) => {
                    console.log('You received some data!', data);
                    $('#results').html('Successfully fetched data at URL: ' + requestURL);
                    $('#results').html(data.words + " " data.results);
                  },
                });
              });*/
        });
    </script>
</head>

<body>
    <h1>Choose a Game</h1>
    <a href="https://www.epicgames.com/fortnite">Fortnite</a>
    <a href="https://na.leagueoflegends.com/en/">League of Legends</a>
    <a href="https://playoverwatch.com/">Overwatch</a>
    <h1>Type what you said</h1>
    <input id="typeTextBox" type="text" size="20"/>
    <button id="typeTextButton">Analyze Text</button>
    <button id="getTextButton">Get Text</button>
    <br></br>
    <br></br>
    <div id="results"></div>
    <!-- <a href="results.html"><button id="typeTextButton">Analyze Text</button></a> -->

    <p>To return to the home page, press here: <a href="home.html">HOME</a>
    </p>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
</script>
<script type="application/javascript" src="js_files/quizQuestions.js"></script>
</html>
